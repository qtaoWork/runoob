<!Doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta property="qc:admins" content="465267610762567726375">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Docker 容器使用 | 菜鸟教程</title>

  <link rel='dns-prefetch' href='//s.w.org'>

<meta name="keywords" content="Docker 容器使用">
<meta name="description" content="Docker 容器使用  Docker 客户端 docker 客户端非常简单 ,我们可以直接输入 docker 命令来查看到 Docker 客户端的所有命令选项。  runoob@runoob:~# docker   可以通过命令 docker command --help 更深入的了解指定的 Docker 命令使用方法。 例如我们要查看 docker stats 指令的具体使用方法：  runoob@runoob:~# docker ..">
		
	
	<link rel="stylesheet" href="/wp-content/themes/runoob/style.css?v=1.155" type="text/css" media="all">	
		
  <!--[if gte IE 9]><!-->
  
  <!--<![endif]-->
  <!--[if lt IE 9]>
     <script src="https://cdn.staticfile.org/jquery/1.9.1/jquery.min.js"></script>
     <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
  <![endif]-->
  
  <meta name="apple-mobile-web-app-title" content="菜鸟教程">
</head>
<body>

<!--  头部 -->
<div class="container logo-search">

  

  
</div>


<!-- 导航栏 -->
<!-- 导航栏 -->
<div class="container navigation">
	<div class="row">
		<div class="col nav">
			<ul class="pc-nav"><li><a href='/linux/linux-tutorial.html'>linux</a></li><li><a href='/markdown/md-tutorial.html'>markdown</a></li><li><a href='/docker/docker-tutorial.html'>docker</a></li><li><a href='/mysql/mysql-tutorial.html'>mysql</a></li><li><a href='/sql/sql-tutorial.html'>sql</a></li><li><a href='/python3/python3-tutorial.html'>python3</a></li><li><a href='/python/python-tutorial.html'>python</a></li><li><a href='/vue2/vue-tutorial.html'>vue2</a></li><li><a href='/nodejs/nodejs-tutorial.html'>nodejs</a></li><li><a href='/regexp/regexp-tutorial.html'>regexp</a></li><li><a href='/xpath/xpath-tutorial.html'>xpath</a></li><li><a href='/svn/svn-tutorial.html'>svn</a></li></ul>
			<ul class="mobile-nav">
				<li><a href="//www.runoob.com/">首页</a></li>
				<li><a href="/html/html-tutorial.html">HTML</a></li>
				<li><a href="/css/css-tutorial.html">CSS</a></li>
				<li><a href="/js/js-tutorial.html">JS</a></li>
				<li><a href="/browser-history">本地书签</a></li>
				<a href="javascript:void(0)" class="search-reveal">Search</a> 
			</ul>
			
		</div>
	</div>
</div><!--  内容  -->
<div class="container main">
	<!-- 中间 -->
	<div class="row">
	
<div class="col left-column">
	<div class="tab">Docker 教程	<a data-cate="199" href="javascript:void(0);" title="夜间模式" id="moon"><i class="fa fa-moon-o" aria-hidden="true" style="font-size: 1.4em;float: right;margin: 4px 6px 0;"></i></a>
	<a data-cate="199" style="display:none;" href="javascript:void(0);" title="日间模式" id="sun"><i class="fa fa-sun-o" aria-hidden="true" style="font-size: 1.4em;float: right;margin: 4px 6px 0;"></i></a>
	</div>
	<div class="sidebar-box gallery-list">
		<div class="design" id="leftcolumn">
						<a target="_top" title="Docker 教程" href="/docker/docker-tutorial.html">
			Docker 教程			</a>
			<a target="_top" title="Docker 架构" href="docker-architecture.html"> Docker 架构 </a>

<br><h2 class="left"><span class="left_h2">Docker 安装</span></h2>			<a target="_top" title="Ubuntu Docker 安装" href="/docker/ubuntu-docker-install.html">
			Ubuntu Docker 安装			</a>
			<a href="debian-docker-install.html">Debian Docker 安装</a>			<a target="_top" title="CentOS Docker 安装" href="/docker/centos-docker-install.html">
			CentOS Docker 安装			</a>
						<a target="_top" title="Windows Docker 安装" href="/docker/windows-docker-install.html">
			Windows Docker 安装			</a>
			<a href="macos-docker-install.html">MacOS Docker 安装</a>
<a target="_top" href="/docker/docker-mirror-acceleration.html">Docker 镜像加速</a>
<a target="_blank" href="###"> Linux 云服务器</a>
<br>

<h2 class="left"><span class="left_h2">Docker 使用</span></h2>			<a target="_top" title="Docker Hello World" href="/docker/docker-hello-world.html">
			Docker Hello World			</a>
						<a target="_top" title="Docker 容器使用" href="/docker/docker-container-usage.html">
			Docker 容器使用			</a>
						<a target="_top" title="Docker 镜像使用" href="/docker/docker-image-usage.html">
			Docker 镜像使用			</a>
						<a target="_top" title="Docker 容器连接" href="/docker/docker-container-connection.html">
			Docker 容器连接			</a>
			<a href="docker-repository.html">Docker 仓库管理</a>
<a href="docker-dockerfile.html">Docker Dockerfile</a>
<a href="docker-compose.html">Docker Compose</a>
<a href="docker-machine.html">Docker Machine </a>
<a href="docker-swarm.html">Swarm 集群管理 </a>
<br><h2 class="left"><span class="left_h2">Docker 实例</span></h2>
<a href="docker-install-ubuntu.html">Docker 安装 Ubuntu </a>
<a href="docker-install-centos.html">Docker 安装 Centos </a>			<a target="_top" title="Docker 安装 Nginx" href="/docker/docker-install-nginx.html">
			Docker 安装 Nginx			</a>
			<a href="docker-install-node.html">Docker 安装 Node.js</a>			<a target="_top" title="Docker 安装 PHP" href="/docker/docker-install-php.html">
			Docker 安装 PHP			</a>
						<a target="_top" title="Docker 安装 MySQL" href="/docker/docker-install-mysql.html">
			Docker 安装 MySQL			</a>
						<a target="_top" title="Docker 安装 Tomcat" href="/docker/docker-install-tomcat.html">
			Docker 安装 Tomcat			</a>
						<a target="_top" title="Docker 安装 Python" href="/docker/docker-install-python.html">
			Docker 安装 Python			</a>
						<a target="_top" title="Docker 安装 Redis" href="/docker/docker-install-redis.html">
			Docker 安装 Redis			</a>
						<a target="_top" title="Docker 安装 MongoDB" href="/docker/docker-install-mongodb.html">
			Docker 安装 MongoDB			</a>
						<a target="_top" title="Docker 安装 Apache" href="/docker/docker-install-apache.html">
			Docker 安装 Apache			</a>
			<a target="_top" title="Docker redis 集群" href="docker-redis-cluster.html">Docker redis 集群	</a>
<br><h2 class="left"><span class="left_h2">Docker 参考手册</span></h2>			<a target="_top" title="Docker 命令大全" href="/docker/docker-command-manual.html">
			Docker 命令大全			</a>
						<a target="_top" title="Docker 资源汇总" href="/docker/docker-resources.html">
			Docker 资源汇总			</a>
				
		</div>
	</div>	
</div>	<div class="col middle-column">
		
	
	<div class="article">
			<div class="article-heading-ad" style="display: none;">
		
		</div>
		<div class="previous-next-links">
			<div class="previous-design-link"><i style="font-size:16px;" class="fa fa-arrow-left" aria-hidden="true"></i> <a href="###" rel="prev"> Ubuntu Docker 安装</a> </div>
			<div class="next-design-link"><a href="###" rel="next"> Docker 镜像使用</a> <i style="font-size:16px;" class="fa fa-arrow-right" aria-hidden="true"></i></div>
		</div>
		<div class="article-body">
		
			<div class="article-intro" id="content">
			
			<h1>Docker 容器使用</h1>
<hr>
<h2>Docker 客户端</h2>
<p>docker 客户端非常简单 ,我们可以直接输入 docker 命令来查看到 Docker 客户端的所有命令选项。</p>
<pre>
runoob@runoob:~# docker
</pre>
<p><img src="//www.runoob.com/wp-content/uploads/2016/05/docker27.png"></p>
<p>可以通过命令 <strong>docker command --help</strong> 更深入的了解指定的 Docker 命令使用方法。</p>
<p>例如我们要查看 <strong>docker stats</strong> 指令的具体使用方法：</p>
<pre>
runoob@runoob:~# docker stats --help
</pre>
<p><img src="//www.runoob.com/wp-content/uploads/2016/05/docker28.png"></p>
<hr>
<h2>容器使用</h2>
<h3>获取镜像</h3>
<p>如果我们本地没有 ubuntu 镜像，我们可以使用 docker pull 命令来载入 ubuntu 镜像：</p>
<pre>$ docker pull ubuntu</pre>
<h3>启动容器</h3>
<p>以下命令使用  ubuntu 镜像启动一个容器，参数为以命令行模式进入该容器：</p>
<pre>$ docker run -it ubuntu /bin/bash</pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-container-run.png"></p>
<p>参数说明：</p>
<ul><li>
<strong>-i</strong>: 交互式操作。</li><li>
<strong>-t</strong>: 终端。</li><li>
<strong>ubuntu</strong>: ubuntu 镜像。</li><li>
<strong>/bin/bash</strong>：放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash。</li></ul>
<p>要退出终端，直接输入 <strong>exit</strong>:</p>
<pre>root@ed09e4490c57:/# exit</pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-container-exit.png"></p>


<h3>启动已停止运行的容器</h3>
<p>查看所有的容器命令如下：</p>
<pre>$ docker ps -a</pre>
<p>点击图片查看大图：</p>
<p><a href="###" rel="noopener noreferrer" target="_blank"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-container-psa.png"></a></p>
<p>使用 docker start 启动一个已停止的容器：</p>
<pre>$ docker start b750bbbcfd88 </pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-container-start.png"></p>

<h3>后台运行</h3>
<p>在大部分的场景下，我们希望 docker 的服务是在后台运行的，我们可以过 <span class="marked">-d</span> 指定容器的运行模式。</p>
<pre>$ docker run -itd --name ubuntu-test ubuntu /bin/bash</pre>
<p>点击图片查看大图：</p>
<p><a href="###" rel="noopener noreferrer" target="_blank"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-run-d.png"></a></p>
<p><a href="###" rel="noopener noreferrer" target="_blank"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-run-d2.png"></a></p>
<p><strong>注：</strong>加了 <span class="marked">-d</span> 参数默认不会进入容器，想要进入容器需要使用指令<strong> docker exec</strong>（下面会介绍到）。</p>

<h3>停止一个容器</h3>
停止容器的命令如下：
<pre>$ docker stop &lt;容器 ID&gt;</pre>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-stop-1.png"></p>

<p>停止的容器可以通过 docker restart 重启：</p>
<pre>$ docker restart &lt;容器 ID&gt;</pre>

<p><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-stop-2.png"></p>

<h3>进入容器</h3>
<p>在使用 <strong>-d</strong> 参数时，容器启动后会进入后台。此时想要进入容器，可以通过以下指令进入：</p>
<ul><li>
<p><strong>docker attach</strong></p></li><li>
<p><strong>docker exec</strong>：推荐大家使用 docker exec 命令，因为此退出容器终端，不会导致容器的停止。</p>
</li></ul>
<p><strong>attach 命令</strong></p>
<p>下面演示了使用 docker attach 命令。</p>
<pre>$ docker attach 1e560fca3906 </pre>
<p><a href="###" target="_blank" rel="noopener noreferrer"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-attach.png"></a></p>
<p><strong>注意：</strong> 如果从这个容器退出，会导致容器的停止。</p>

<p><strong>exec 命令</strong></p>
<p>下面演示了使用 docker exec 命令。</p>
<pre>docker exec -it 243c32535da7 /bin/bash</pre>

<p><a href="###" target="_blank" rel="noopener noreferrer"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-exec.png"></a></p>
<p><strong>注意：</strong> 如果从这个容器退出，不会导致容器的停止，这就是为什么推荐大家使用 <strong>docker exec</strong> 的原因。</p>

<p>更多参数说明请使用 <span class="marked">docker exec --help</span> 命令查看。</p>

<h3>导出和导入容器</h3>
<p><strong>导出容器</strong></p>
<p>如果要导出本地某个容器，可以使用 <strong>docker export</strong> 命令。</p>
<pre>$ docker export 1e560fca3906 &gt; ubuntu.tar</pre>
<p>导出容器 1e560fca3906 快照到本地文件  ubuntu.tar。</p>
<a href="###" target="_blank" rel="noopener noreferrer"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-export.png" a/=""></a>

<p>这样将导出容器快照到本地文件。</p>

<p><strong>导入容器快照</strong></p>
<p>可以使用 docker import 从容器快照文件中再导入为镜像，以下实例将快照文件 ubuntu.tar 导入到镜像 test/ubuntu:v1:</p>
<pre>$ cat docker/ubuntu.tar | docker import - test/ubuntu:v1</pre>
<a href="###" target="_blank" rel="noopener noreferrer"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-import.png"></a>
<p>此外，也可以通过指定 URL 或者某个目录来导入，例如：</p>
<pre>$ docker import http://example.com/exampleimage.tgz example/imagerepo</pre>


<h3>删除容器</h3><p>删除容器使用 <strong>docker rm</strong> 命令：</p>
<pre>$ docker rm -f 1e560fca3906</pre>

<a href="###" target="_blank" rel="noopener noreferrer"><img src="https://www.runoob.com/wp-content/uploads/2016/05/docker-container-rmi.png"></a>
<p>下面的命令可以清理掉所有处于终止状态的容器。</p>
$ docker container prune









<hr>
<h2>运行一个 web 应用</h2>
<p>前面我们运行的容器并没有一些什么特别的用处。</p>
<p>接下来让我们尝试使用 docker 构建一个 web 应用程序。</p>
<p>我们将在docker容器中运行一个 Python Flask 应用来运行一个web应用。</p>
<pre>
runoob@runoob:~# docker pull training/webapp  # 载入镜像
runoob@runoob:~# docker run -d -P training/webapp python app.py
</pre>
<p><img src="//www.runoob.com/wp-content/uploads/2016/05/docker29.png"></p>
<p>参数说明:</p>
<ul><li>
<p><strong>-d:</strong>让容器在后台运行。</p></li><li>
<p><strong>-P:</strong>将容器内部使用的网络端口映射到我们使用的主机上。</p>
</li></ul>
<hr>
<h2>查看 WEB 应用容器</h2>
<p>使用 docker ps 来查看我们正在运行的容器：</p>
<pre>
runoob@runoob:~#  docker ps
CONTAINER ID        IMAGE               COMMAND             ...        PORTS                 
d3d5e39ed9d3        training/webapp     "python app.py"     ...        0.0.0.0:32769-&gt;5000/tcp
</pre>
<p>这里多了端口信息。</p>
<pre>
PORTS
0.0.0.0:32769-&gt;5000/tcp
</pre>
<p>Docker 开放了 5000 端口（默认 Python Flask 端口）映射到主机端口 32769 上。</p>
<p>这时我们可以通过浏览器访问WEB应用</p>
<p><img src="//www.runoob.com/wp-content/uploads/2016/05/docker31.png"></p>
<p>我们也可以通过 -p 参数来设置不一样的端口：</p>
<pre>
runoob@runoob:~$ docker run -d -p 5000:5000 training/webapp python app.py
</pre>
<p><strong>docker ps</strong>查看正在运行的容器</p>

<pre>runoob@runoob:~#  docker ps
CONTAINER ID        IMAGE                             PORTS                     NAMES
bf08b7f2cd89        training/webapp     ...        0.0.0.0:5000-&gt;5000/tcp    wizardly_chandrasekhar
d3d5e39ed9d3        training/webapp     ...        0.0.0.0:32769-&gt;5000/tcp   xenodochial_hoov
</pre>
<p>容器内部的 5000 端口映射到我们本地主机的 5000 端口上。</p>
<hr>
<h2>网络端口的快捷方式</h2>
<p>通过 <strong>docker ps</strong> 命令可以查看到容器的端口映射，<strong>docker</strong> 还提供了另一个快捷方式 <strong>docker port</strong>，使用 <strong>docker port</strong> 可以查看指定 （ID 或者名字）容器的某个确定端口映射到宿主机的端口号。</p>
<p>上面我们创建的 web 应用容器 ID 为 <strong>bf08b7f2cd89</strong>  名字为 <strong>wizardly_chandrasekhar</strong>。</p>
<p>我可以使用 <span class="marked">docker port bf08b7f2cd89</span>  或 <span class="marked">docker port wizardly_chandrasekhar</span> 来查看容器端口的映射情况。</p>
<pre>
runoob@runoob:~$ docker port bf08b7f2cd89
5000/tcp -&gt; 0.0.0.0:5000
</pre>
<pre>
runoob@runoob:~$ docker port wizardly_chandrasekhar
5000/tcp -&gt; 0.0.0.0:5000
</pre>
<hr>
<h2>查看 WEB 应用程序日志</h2>
<p>docker logs [ID或者名字] 可以查看容器内部的标准输出。</p>
<pre>
runoob@runoob:~$ docker logs -f bf08b7f2cd89
 * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)
192.168.239.1 - - [09/May/2016 16:30:37] "GET / HTTP/1.1" 200 -
192.168.239.1 - - [09/May/2016 16:30:37] "GET /favicon.ico HTTP/1.1" 404 -
</pre>
<p><strong>-f:</strong> 让 <strong>docker logs</strong> 像使用 <strong>tail -f</strong> 一样来输出容器内部的标准输出。</p>
<p>从上面，我们可以看到应用程序使用的是 5000 端口并且能够查看到应用程序的访问日志。</p>
<hr>
<h2>查看WEB应用程序容器的进程</h2>
<p>我们还可以使用 docker top 来查看容器内部运行的进程</p>
<pre>
runoob@runoob:~$ docker top wizardly_chandrasekhar
UID     PID         PPID          ...       TIME                CMD
root    23245       23228         ...       00:00:00            python app.py
</pre>
<hr>
<h2>检查 WEB 应用程序</h2>
<p>使用 <strong>docker inspect</strong> 来查看 Docker 的底层信息。它会返回一个 JSON 文件记录着 Docker 容器的配置和状态信息。</p>
<pre>
runoob@runoob:~$ docker inspect wizardly_chandrasekhar
[
    {
        "Id": "bf08b7f2cd897b5964943134aa6d373e355c286db9b9885b1f60b6e8f82b2b85",
        "Created": "2018-09-17T01:41:26.174228707Z",
        "Path": "python",
        "Args": [
            "app.py"
        ],
        "State": {
            "Status": "running",
            "Running": true,
            "Paused": false,
            "Restarting": false,
            "OOMKilled": false,
            "Dead": false,
            "Pid": 23245,
            "ExitCode": 0,
            "Error": "",
            "StartedAt": "2018-09-17T01:41:26.494185806Z",
            "FinishedAt": "0001-01-01T00:00:00Z"
        },
......
</pre>
<hr>
<h2>停止 WEB 应用容器</h2>
<pre>
runoob@runoob:~$ docker stop wizardly_chandrasekhar   
wizardly_chandrasekhar
</pre>
<hr>
<h2>重启WEB应用容器</h2>
<p>已经停止的容器，我们可以使用命令 docker start 来启动。</p>
<pre>
runoob@runoob:~$ docker start wizardly_chandrasekhar
wizardly_chandrasekhar
</pre>
<p>docker ps -l 查询最后一次创建的容器：</p>
<pre>#  docker ps -l 
CONTAINER ID        IMAGE                             PORTS                     NAMES
bf08b7f2cd89        training/webapp     ...        0.0.0.0:5000-&gt;5000/tcp    wizardly_chandrasekhar</pre>
<p>正在运行的容器，我们可以使用 <span class="marked">docker restart</span> 命令来重启。</p>
<hr>
<h2>移除WEB应用容器</h2>
<p>我们可以使用 docker rm 命令来删除不需要的容器</p>
<pre>
runoob@runoob:~$ docker rm wizardly_chandrasekhar  
wizardly_chandrasekhar
</pre>
<p>删除容器时，容器必须是停止状态，否则会报如下错误</p>
<pre>
runoob@runoob:~$ docker rm wizardly_chandrasekhar
Error response from daemon: You cannot remove a running container bf08b7f2cd897b5964943134aa6d373e355c286db9b9885b1f60b6e8f82b2b85. Stop the container before attempting removal or force remove
</pre>			<!-- 其他扩展 -->
						
			</div>
			
		</div>
		
		<div class="previous-next-links">
			<div class="previous-design-link"><i style="font-size:16px;" class="fa fa-arrow-left" aria-hidden="true"></i> <a href="###" rel="prev"> Ubuntu Docker 安装</a> </div>
			<div class="next-design-link"><a href="###" rel="next"> Docker 镜像使用</a> <i style="font-size:16px;" class="fa fa-arrow-right" aria-hidden="true"></i></div>
		</div>
		<!-- 笔记列表 -->
		<style>
.wrapper {
  /*text-transform: uppercase; */
  background: #ececec;
  color: #555;
  cursor: help;
  font-family: "Gill Sans", Impact, sans-serif;
  font-size: 20px;
  position: relative;
  text-align: center;
  width: 200px;
  -webkit-transform: translateZ(0); /* webkit flicker fix */
  -webkit-font-smoothing: antialiased; /* webkit text rendering fix */
}

.wrapper .tooltip {
  white-space: nowrap;
  font-size: 14px;
  text-align: left;
  background: #96b97d;
  bottom: 100%;
  color: #fff;
  display: block;
  left: -25px;
  margin-bottom: 15px;
  opacity: 0;
  padding: 14px;
  pointer-events: none;
  position: absolute;
  
  -webkit-transform: translateY(10px);
     -moz-transform: translateY(10px);
      -ms-transform: translateY(10px);
       -o-transform: translateY(10px);
          transform: translateY(10px);
  -webkit-transition: all .25s ease-out;
     -moz-transition: all .25s ease-out;
      -ms-transition: all .25s ease-out;
       -o-transition: all .25s ease-out;
          transition: all .25s ease-out;
  -webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);
     -moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);
      -ms-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);
       -o-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);
          box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.28);
}
.tooltip a {
	color:#fff;
}
/* This bridges the gap so you can mouse into the tooltip without it disappearing */
.wrapper .tooltip:before {
  bottom: -20px;
  content: " ";
  display: block;
  height: 20px;
  left: 0;
  position: absolute;
  width: 100%;
}  

/* CSS Triangles - see Trevor's post */
.wrapper .tooltip:after {
  border-left: solid transparent 10px;
  border-right: solid transparent 10px;
  border-top: solid #96b97d 10px;
  bottom: -10px;
  content: " ";
  height: 0;
  left: 20%;
  margin-left: -13px;
  position: absolute;
  width: 0;
}
.wrapper .tooltip1 {
	margin-left: 50px;
	padding-top: 0px;
}
/*
.wrapper:hover .tooltip {
  opacity: 1;
  pointer-events: auto;
  -webkit-transform: translateY(0px);
     -moz-transform: translateY(0px);
      -ms-transform: translateY(0px);
       -o-transform: translateY(0px);
          transform: translateY(0px);
}
*/
/* IE can just show/hide with no transition */
.lte8 .wrapper .tooltip {
  display: none;
}

.lte8 .wrapper:hover .tooltip {
  display: block;
}

</style>

<div class="title" id="comments">
	<h2 class="">
    <div class="altblock">
		    	<i style="font-size:28px;margin-top: 8px;" class="fa fa-pencil-square-o" aria-hidden="true"></i>
    	    </div>
    <span class="mw-headline" id="qa_headline">1  篇笔记</span>
	<span class="mw-headline" id="user_add_note" style="float:right;line-height: 62px;padding-right: 14px;"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>  写笔记</span>
    </h2>
</div>

<div id="postcomments">
	<ol class="commentlist">
		<li class="comment even thread-even depth-1" id="comment-51562"><span class="comt-f">#1</span><div class="comt-avatar wrapper"><i style="font-size:36px;" class="fa fa-user-circle" aria-hidden="true"></i><div class="tooltip"><p><i class="fa fa-user" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;vfxZhen</p><p><i class="fa fa-envelope" aria-hidden="true"></i>&nbsp;&nbsp;orp***010@qq.com</p><p><i class="fa fa-external-link" aria-hidden="true"></i> <a rel="nofollow" target="_blank" href="###">&nbsp;&nbsp;参考地址</a></p></div><div id="runoobvote-id-51562" data-commid="51562" class="upvotejs"><a class="upvote"></a> <span class="count">11</span></div></div><div class="comt-main" id="div-comment-51562"><p data-title="Docker启动Get Permission Denied"><strong>问题描述</strong></p>

<p>安装完docker后，执行docker相关命令，出现：</p>

<pre>&rdquo;Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.26/images/json: dial unix /var/run/docker.sock: connect: permission denied&ldquo;</pre>
<p><strong>原因</strong></p>

<p>摘自docker mannual上的一段话：</p>

<pre>Manage Docker as a non-root user

The docker daemon binds to a Unix socket instead of a TCP port. By default that Unix socket is owned by the user root and other users can only access it using sudo. The docker daemon always runs as the root user.

If you don&rsquo;t want to use sudo when you use the docker command, create a Unix group called docker and add users to it. When the docker daemon starts, it makes the ownership of the Unix socket read/writable by the docker group</pre>
<p>大概的意思就是：docker进程使用Unix Socket而不是TCP端口。而默认情况下，Unix socket属于root用户，需要root权限才能访问。</p>

<p><strong>解决方法1</strong></p>

<p>使用sudo获取管理员权限，运行docker命令</p>

<p><strong>解决方法2</strong></p>

<p>docker守护进程启动的时候，会默认赋予名字为docker的用户组读写Unix socket的权限，因此只要创建docker用户组，并将当前用户加入到docker用户组中，那么当前用户就有权限访问Unix socket了，进而也就可以执行docker相关命令</p>

<pre>sudo groupadd docker     #添加docker用户组
sudo gpasswd -a $USER docker     #将登陆用户加入到docker用户组中
newgrp docker     #更新用户组
docker ps    #测试docker命令是否可以使用sudo正常使用</pre><div class="comt-meta wrapper"><span class="comt-author"><a target="_blank" href="/note/51562">vfxZhen</a><div class="tooltip tooltip1"><p><i class="fa fa-user" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;vfxZhen</p><p><i class="fa fa-envelope" aria-hidden="true"></i>&nbsp;&nbsp;orp***010@qq.com</p><p><i class="fa fa-external-link" aria-hidden="true"></i> <a rel="nofollow" target="_blank" href="###">&nbsp;&nbsp;参考地址</a></p></div></span>2个月前 (03-14)</div></div></li><!-- #comment-## -->
	</ol>
	<div class="pagenav">
			</div>
</div>






<link rel="stylesheet" href="/wp-content/themes/runoob/assets/css/qa.css?1.43">






		<div class="sidebar-box ">
				<div id="ad-336280">

		<style>	
.responsive_ad1 { display:none; }
@media(min-width: 800px) { .responsive_ad1 {  display:block;margin:0 auto;} }

</style>

<!-- 移动版 自动调整 -->
<ins class="adsbygoogle responsive_ad1" style="min-width:400px;max-width:728px;width:100%;height:90px;" data-ad-client="ca-pub-5751451760833794" data-ad-slot="1691338467" data-full-width-responsive="true"></ins>

		</div>
				</div>
		
	</div>
</div>
	

<!-- 右边栏 -->
<div class="fivecol last right-column">
<!--
	<div class="tab tab-light-blue" style="text-align: center;">关注微信</div>
	<div class="sidebar-box">
		<a href="http://m.runoob.com/" target="_blank"> <img src="http://www.runoob.com/wp-content/themes/w3cschool.cc/assets/img/qrcode.jpg" alt="移动版"> </a>
		<div class="qqinfo">
		 <a target="_blank" href="http://jq.qq.com/?_wv=1027&k=dOwwKN" id="qqhref">
		<img border="0" src="http://pub.idqqimg.com/wpa/images/group.png" alt="菜鸟家族" title="菜鸟家族"></a>
		<span>(群号：<span id="qqid">365967760</span>)</span>
		</div>
		
	</div>
	-->
<style>
.sidebar-tree .double-li {
	width:300px;
}
.sidebar-tree .double-li li {
    width: 44%;
    line-height: 1.5em;
    border-bottom: 1px solid #ccc;
    float: left;
    display: inline;
}
</style>

	
		
	<br>
	
	
</div></div>

</div>




<!-- 反馈对话框开始 -->

<link rel="stylesheet" href="/wp-content/themes/runoob/assets/feedback/stable/2.0/feedback.css?1.0">

<!-- 反馈对话框结束 -->
<button class="feedback-btn feedback-btn-gray">反馈/建议</button>
<!-- 底部 -->



  

  <div class="hide_box"></div>
    
  <div id="testClick"></div>
 <div style="display:none;">
 
 
</div>

<style>
ol,ul{list-style:none}.cd-switcher a{text-decoration:none;outline:0}.cd-switcher a:hover{text-decoration:underline}a:focus{outline:0;-moz-outline:0}.main_nav{width:300px;height:60px;margin:60px auto 10px auto}.main_nav li{float:left;width:60px;margin-right:10px;font-size:16px;padding:.6em 1em;border-radius:3em;background:#2f889a;text-align:center}.main_nav li a{color:#fff}.errtip{background-color:#fceaea;color:#db5353;padding:8px 15px;font-size:14px;border:1px solid #fc9797;border-radius:5px}.cd-user-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(52,54,66,0.9);z-index:3;overflow-y:auto;cursor:pointer;visibility:hidden;opacity:0;-webkit-transition:opacity .3s 0,visibility 0 .3s;-moz-transition:opacity .3s 0,visibility 0 .3s;transition:opacity .3s 0,visibility 0 .3s}.cd-user-modal.is-visible{visibility:visible;opacity:1;-webkit-transition:opacity .3s 0,visibility 0 0;-moz-transition:opacity .3s 0,visibility 0 0;transition:opacity .3s 0,visibility 0 0}.cd-user-modal.is-visible .cd-user-modal-container{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0)}.cd-user-modal-container{position:relative;width:90%;max-width:500px;background:#FFF;margin:3em auto 4em;cursor:auto;border-radius:.25em;-webkit-transform:translateY(-30px);-moz-transform:translateY(-30px);-ms-transform:translateY(-30px);-o-transform:translateY(-30px);transform:translateY(-30px);-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;transition-property:transform;-webkit-transition-duration:.3s;-moz-transition-duration:.3s;transition-duration:.3s}.cd-user-modal-container .cd-switcher:after{content:"";display:table;clear:both}.cd-user-modal-container .cd-switcher li{width:50%;float:left;text-align:center}.cd-user-modal-container .cd-switcher li:first-child a{border-radius:.25em 0 0 0}.cd-user-modal-container .cd-switcher li:last-child a{border-radius:0 .25em 0 0}.cd-user-modal-container .cd-switcher a{font-size:1.2em;font-weight:bold;display:block;width:100%;height:50px;line-height:50px;background:#e8f1e2;color:#96b880}.cd-user-modal-container .cd-switcher a.selected{background:#FFF;color:#505260}@media only screen and (min-width:600px){.cd-user-modal-container{margin:4em auto}.cd-user-modal-container .cd-switcher a{height:70px;line-height:70px}}.cd-form{padding:1.4em}.cd-form .fieldset{position:relative;margin:1.4em 0}.cd-form .fieldset:first-child{margin-top:0}.cd-form .fieldset:last-child{margin-bottom:0}.cd-form label{font-size:16px;font-size:.875rem}.cd-form label.image-replace{display:inline-block;position:absolute;left:15px;top:50%;bottom:auto;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);height:20px;width:20px;overflow:hidden;text-indent:100%;white-space:nowrap;color:transparent;text-shadow:none;background-repeat:no-repeat;background-position:50% 0}.cd-form label.cd-username{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-username.svg")}.cd-form label.cd-email{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-email.svg")}.cd-form label.cd-password{background-image:url("/wp-content/themes/runoob/assets/img/cd-icon-password.svg")}.cd-form input{margin:0;padding:0;border-radius:.25em}.cd-form input.full-width{width:80%}.cd-form input.full-width2{width:94%}.cd-form input.has-padding{padding:12px 20px 12px 50px}.cd-form input.has-border{border:1px solid #d2d8d8;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none}.cd-form input.has-border:focus{border-color:#98b880;box-shadow:0 0 5px rgba(52,54,66,0.1);outline:0}.cd-form input.has-error{border:1px solid #d76666}.cd-form input[type=password]{padding-right:65px}.cd-form input[type=submit]{padding:16px 0;cursor:pointer;background:#96b97d;color:#FFF;font-weight:bold;border:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;font-size:1.2em;font-weight:bold}.no-touch .cd-form input[type=submit]:hover,.no-touch .cd-form input[type=submit]:focus{background:#3599ae;outline:0}@media only screen and (min-width:600px){.cd-form{padding:2em}.cd-form .fieldset{margin:2em 0}.cd-form .fieldset:first-child{margin-top:0}.cd-form .fieldset:last-child{margin-bottom:0}.cd-form input.has-padding{padding:16px 20px 16px 50px}.cd-form input[type=submit]{padding:16px 0}}.cd-close-form{display:block;position:absolute;width:40px;height:40px;right:0;top:-40px;background:url("/wp-content/themes/runoob/assets/img/cd-icon-close.svg") no-repeat center center;text-indent:100%;white-space:nowrap;overflow:hidden}@media only screen and (min-width:1170px){}#cd-login,#cd-signup,#cd-reset-password{display:none}#cd-login.is-selected,#cd-signup.is-selected,#cd-reset-password.is-selected{display:block}
</style>
 


</body>
</html>